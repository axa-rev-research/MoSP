<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>viewer.sim_viewer.SimViewer</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://bhenne.github.com/MoSP/">Mobile Security &amp; Privacy (MoSP) Simulator</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="viewer-module.html">Package&nbsp;viewer</a> ::
        <a href="viewer.sim_viewer-module.html">Module&nbsp;sim_viewer</a> ::
        Class&nbsp;SimViewer
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="viewer.sim_viewer.SimViewer-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SimViewer</h1><p class="nomargin-top"><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_viewer_s" name="uml_class_diagram_for_viewer_s">
<area shape="rect" id="node1_14" href="viewer.sim_viewer.SimViewer-class.html#__init__" title="Initialize the viewer." alt="" coords="17,39,720,57"/>
<area shape="rect" id="node1_15" href="viewer.sim_viewer.SimViewer-class.html#receive" title="Receive data from a given port and parse it to create drawable objects." alt="" coords="17,57,720,76"/>
<area shape="rect" id="node1_16" href="viewer.sim_viewer.SimViewer-class.html#update_coordinates" title="Calculate all coordinates necessary for drawing received points, rectangles and circles." alt="" coords="17,76,720,95"/>
<area shape="rect" id="node1_17" href="viewer.sim_viewer.SimViewer-class.html#update_vertex_lists" title="Add offsets to coordinates and update the used VertexLists." alt="" coords="17,95,720,113"/>
<area shape="rect" id="node1_18" href="viewer.sim_viewer.SimViewer-class.html#reload_tiles" title="Loads newly downloaded tiles from file" alt="" coords="17,113,720,132"/>
<area shape="rect" id="node1_19" href="viewer.sim_viewer.SimViewer-class.html#get_image" title="Load an image from the cache folder or download it." alt="" coords="17,132,720,151"/>
<area shape="rect" id="node1_20" href="viewer.sim_viewer.SimViewer-class.html#on_resize" title="Recalculate drawing_offset and number_of_tiles if necessary, update tiles." alt="" coords="17,151,720,169"/>
<area shape="rect" id="node1_21" href="viewer.sim_viewer.SimViewer-class.html#update_tiles" title="Update the self.tiles and self.tiles_used dicts after changes." alt="" coords="17,169,720,188"/>
<area shape="rect" id="node1_22" href="viewer.sim_viewer.SimViewer-class.html#meters_to_pixels" title="Calculate the number of pixels that equal the given distance in." alt="" coords="17,188,720,207"/>
<area shape="rect" id="node1_23" href="viewer.sim_viewer.SimViewer-class.html#on_draw" title="Draw the screen." alt="" coords="17,207,720,225"/>
<area shape="rect" id="node1_24" href="viewer.sim_viewer.SimViewer-class.html#change_zoom" title="Zooms in or out of map by given factor." alt="" coords="17,225,720,244"/>
<area shape="rect" id="node1_25" href="viewer.sim_viewer.SimViewer-class.html#on_key_press" title="This is called by pyglet whenever a key is pressed." alt="" coords="17,244,720,263"/>
<area shape="rect" id="node1_26" href="viewer.sim_viewer.SimViewer-class.html#take_screenshot" title="Take a screenshot of the current simulation and save it with the current &#160;timestamp as it&#39;s name." alt="" coords="17,263,720,281"/>
<area shape="rect" id="node1_27" href="viewer.sim_viewer.SimViewer-class.html#close" title="This is called by pyglet when the viewer is closed." alt="" coords="17,300,720,319"/>
<area shape="rect" id="node1" href="viewer.sim_viewer.SimViewer-class.html" title="A tool for displaying mosp&#45;simulations." alt="" coords="5,6,731,325"/>
</map>
  <img src="uml_class_diagram_for_viewer_s.gif" alt='' usemap="#uml_class_diagram_for_viewer_s" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>A tool for displaying mosp-simulations.</p>

<hr />
<div class="fields">      <p><strong>Author:</strong>
        P. Tute
      </p>
</div><!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">lat</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">lon</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">zoom</span>=<span class="summary-sig-default">15</span>,
        <span class="summary-sig-arg">host</span>=<span class="summary-sig-default">'localhost'</span>,
        <span class="summary-sig-arg">port</span>=<span class="summary-sig-default">60001</span>,
        <span class="summary-sig-arg">ugly_drag</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Initialize the viewer.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#receive" class="summary-sig-name">receive</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dt</span>)</span><br />
      Receive data from a given port and parse it to create drawable 
      objects.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.receive">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#update_coordinates" class="summary-sig-name">update_coordinates</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">points</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">rects</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">circles</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">triangles</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">texts</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">hms</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">all</span>=<span class="summary-sig-default">False</span>)</span><br />
      Calculate all coordinates necessary for drawing received points, 
      rectangles and circles.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.update_coordinates">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="update_vertex_lists"></a><span class="summary-sig-name">update_vertex_lists</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Add offsets to coordinates and update the used VertexLists.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.update_vertex_lists">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="reload_tiles"></a><span class="summary-sig-name">reload_tiles</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dt</span>)</span><br />
      Loads newly downloaded tiles from file</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.reload_tiles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#get_image" class="summary-sig-name">get_image</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">y</span>,
        <span class="summary-sig-arg">z</span>,
        <span class="summary-sig-arg">layer</span>=<span class="summary-sig-default">'mapnik'</span>)</span><br />
      Load an image from the cache folder or download it.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.get_image">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_resize" class="summary-sig-name">on_resize</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">width</span>,
        <span class="summary-sig-arg">height</span>)</span><br />
      Recalculate drawing_offset and number_of_tiles if necessary, update 
      tiles.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_resize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#update_tiles" class="summary-sig-name">update_tiles</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Update the self.tiles and self.tiles_used dicts after changes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.update_tiles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#meters_to_pixels" class="summary-sig-name">meters_to_pixels</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">m</span>)</span><br />
      Calculate the number of pixels that equal the given distance in.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.meters_to_pixels">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_draw" class="summary-sig-name">on_draw</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dt</span>=<span class="summary-sig-default">0</span>)</span><br />
      Draw the screen.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_draw">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#change_zoom" class="summary-sig-name">change_zoom</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">factor</span>)</span><br />
      Zooms in or out of map by given factor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.change_zoom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_key_press" class="summary-sig-name">on_key_press</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">symbol</span>,
        <span class="summary-sig-arg">modifiers</span>)</span><br />
      This is called by pyglet whenever a key is pressed.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_key_press">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="take_screenshot"></a><span class="summary-sig-name">take_screenshot</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Take a screenshot of the current simulation and save it with the 
      current timestamp as it's name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.take_screenshot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_mouse_drag" class="summary-sig-name">on_mouse_drag</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">y</span>,
        <span class="summary-sig-arg">dx</span>,
        <span class="summary-sig-arg">dy</span>,
        <span class="summary-sig-arg">buttons</span>,
        <span class="summary-sig-arg">modifiers</span>)</span><br />
      Called, when mouse-dragging is recognized.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_drag">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_mouse_release" class="summary-sig-name">on_mouse_release</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">y</span>,
        <span class="summary-sig-arg">buttons</span>,
        <span class="summary-sig-arg">modifiers</span>)</span><br />
      This is called by pyglet when a mouse button is released.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_release">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#on_mouse_scroll" class="summary-sig-name">on_mouse_scroll</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">y</span>,
        <span class="summary-sig-arg">scroll_x</span>,
        <span class="summary-sig-arg">scroll_y</span>)</span><br />
      This is called by pyglet when the mouse-wheel is scrolled.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_scroll">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#handle_offset" class="summary-sig-name">handle_offset</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">update_tiles</span>=<span class="summary-sig-default">True</span>)</span><br />
      Check, if new tiles need to be loaded because of the current offset.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.handle_offset">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#remove_drawing" class="summary-sig-name">remove_drawing</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dt</span>,
        <span class="summary-sig-arg">type</span>,
        <span class="summary-sig-arg">id</span>)</span><br />
      Remove a drawing-object from the viewer.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.remove_drawing">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="reset_drawings"></a><span class="summary-sig-name">reset_drawings</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Empty all vertex lists and set up new ones.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.reset_drawings">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#reconnect" class="summary-sig-name">reconnect</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Try to establish a new connection to the host and ports used when 
      initialising.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.reconnect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="viewer.sim_viewer.SimViewer-class.html#close" class="summary-sig-name">close</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This is called by pyglet when the viewer is closed.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.close">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">lat</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">lon</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">zoom</span>=<span class="sig-default">15</span>,
        <span class="sig-arg">host</span>=<span class="sig-default">'localhost'</span>,
        <span class="sig-arg">port</span>=<span class="sig-default">60001</span>,
        <span class="sig-arg">ugly_drag</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">**kwargs</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Initialize the viewer.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lat</code></strong> (float) - Latitude to center view on (default 0).</li>
        <li><strong class="pname"><code>lon</code></strong> (float) - Longitude to center view on (default 0).</li>
        <li><strong class="pname"><code>zoom</code></strong> (int in range [0, 18]) - OSM-zomm-level to start with (default 16).</li>
        <li><strong class="pname"><code>host</code></strong> (string) - The host running the simulation (default 'localhost').</li>
        <li><strong class="pname"><code>port</code></strong> (int) - The port used by the simulation (default 60001).</li>
        <li><strong class="pname"><code>ugly_drag</code></strong> - If set to True, dragging the map with the mouse will look uglier,
          but run faster (default False).</li>
        <li><strong class="pname"><code>kwargs</code></strong> - @see 
          http://pyglet.org/doc/api/pyglet.window.Window-class.html#__init__</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="receive"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">receive</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dt</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.receive">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Receive data from a given port and parse it to create drawable 
  objects.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dt</code></strong> - Time since last call. Necessary for pyglet-scheduling, ignored 
          here.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Author:</strong>
        P. Tute
      </p>
</div></td></tr></table>
</div>
<a name="update_coordinates"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update_coordinates</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">points</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">rects</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">circles</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">triangles</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">texts</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">hms</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">all</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.update_coordinates">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate all coordinates necessary for drawing received points, 
  rectangles and circles.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>points</code></strong> (dict) - Points whose coordinates need to be calculated</li>
        <li><strong class="pname"><code>rects</code></strong> (dict) - Rectangles whose coordinates need to be calculated</li>
        <li><strong class="pname"><code>circles</code></strong> (dict) - Circles whose coordinates need to be calculated</li>
        <li><strong class="pname"><code>texts</code></strong> (dict) - Texts whose coordinates need to be calculated</li>
        <li><strong class="pname"><code>hms</code></strong> (list) - Heatmap-blips whose coordinates need to be calculated</li>
        <li><strong class="pname"><code>all</code></strong> (boolean) - If all is True, all known coordinates will be redrawn. Other 
          passed arguments will be ignored.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Author:</strong>
        P. Tute
      </p>
</div></td></tr></table>
</div>
<a name="get_image"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_image</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>,
        <span class="sig-arg">y</span>,
        <span class="sig-arg">z</span>,
        <span class="sig-arg">layer</span>=<span class="sig-default">'mapnik'</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.get_image">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Load an image from the cache folder or download it.</p>
  <p>Try to load from cache-folder first, download and cache if no image 
  was found. The image is placed in self.tiles by this method or by the 
  TileLoader.load_images() after downloading.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>x</code></strong> (int) - OSM-tile number in x-direction</li>
        <li><strong class="pname"><code>y</code></strong> (int) - OSM-tile number in y-direction</li>
        <li><strong class="pname"><code>z</code></strong> (int in range [0, 18]) - OSM-zoom</li>
        <li><strong class="pname"><code>layer</code></strong> (string (one of 'tah', 'oam' and 'mapnik')) - The used map layer (default 'mapnik')</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="on_resize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_resize</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">width</span>,
        <span class="sig-arg">height</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_resize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Recalculate drawing_offset and number_of_tiles if necessary, update 
  tiles.</p>
  <p>This is called by pyglet when the viewer is started or resized.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://pyglet.org/doc/api/pyglet.window.Window-class.html#on_resize
      </p>
</div></td></tr></table>
</div>
<a name="update_tiles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update_tiles</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.update_tiles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update the self.tiles and self.tiles_used dicts after changes.</p>
  <p>When necessary load new images and delete old ones. This should not be
  called to often since it causes all coordinates of all drawings to be 
  recalculated.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="meters_to_pixels"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">meters_to_pixels</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">m</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.meters_to_pixels">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate the number of pixels that equal the given distance in.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>m</code></strong> (int) - Distance in meter</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>Distance in pixels</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://wiki.openstreetmap.org/wiki/Zoom_levels
      </p>
</div></td></tr></table>
</div>
<a name="on_draw"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_draw</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dt</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_draw">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Draw the screen.</p>
  <p>This is periodically called by pyglet.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dt</code></strong> - Time since last call. Necessary for scheduling but ignored here.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="change_zoom"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">change_zoom</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">factor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.change_zoom">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Zooms in or out of map by given factor.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>factor</code></strong> (int) - The factor to zoom by in OSM-zoom levels.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="on_key_press"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_key_press</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">symbol</span>,
        <span class="sig-arg">modifiers</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_key_press">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is called by pyglet whenever a key is pressed.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://pyglet.org/doc/api/pyglet.window.Window-class.html#on_key_press
      </p>
</div></td></tr></table>
</div>
<a name="on_mouse_drag"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_mouse_drag</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>,
        <span class="sig-arg">y</span>,
        <span class="sig-arg">dx</span>,
        <span class="sig-arg">dy</span>,
        <span class="sig-arg">buttons</span>,
        <span class="sig-arg">modifiers</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_drag">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called, when mouse-dragging is recognized.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://pyglet.org/doc/api/pyglet.window.Window-class.html#on_mouse_drag
      </p>
</div></td></tr></table>
</div>
<a name="on_mouse_release"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_mouse_release</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>,
        <span class="sig-arg">y</span>,
        <span class="sig-arg">buttons</span>,
        <span class="sig-arg">modifiers</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_release">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is called by pyglet when a mouse button is released.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://pyglet.org/doc/api/pyglet.window.Window-class.html#on_mouse_release
      </p>
</div></td></tr></table>
</div>
<a name="on_mouse_scroll"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">on_mouse_scroll</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>,
        <span class="sig-arg">y</span>,
        <span class="sig-arg">scroll_x</span>,
        <span class="sig-arg">scroll_y</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.on_mouse_scroll">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is called by pyglet when the mouse-wheel is scrolled.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        http://pyglet.org/doc/api/pyglet.window.Window-class.html#on_mouse_scroll
      </p>
</div></td></tr></table>
</div>
<a name="handle_offset"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">handle_offset</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">update_tiles</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.handle_offset">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check, if new tiles need to be loaded because of the current 
  offset.</p>
  <p>If the offset is bigger than one tile, the appropriate tile will 
  become the new center and the offset is changed accordingly.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>update_tiles</code></strong> - If True, self.update_tiles() will be called after adjusting for 
          offset (default).</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="remove_drawing"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remove_drawing</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dt</span>,
        <span class="sig-arg">type</span>,
        <span class="sig-arg">id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.remove_drawing">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove a drawing-object from the viewer.</p>
  <p>The object is specified by it's type (in hexadecimal, see 
  MESSAGE_TYPES) and it's unique id.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dt</code></strong> (int) - Necessary for scheduling, ignored here</li>
        <li><strong class="pname"><code>type</code></strong> (string) - Specifies which kind of object should be removed. Must be one of 
          the types in MESSAGE_TYPES (in hexadecimal).</li>
        <li><strong class="pname"><code>id</code></strong> (int) - ID of the removed object</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="reconnect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">reconnect</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.reconnect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Try to establish a new connection to the host and ports used when 
  initialising.</p>
  <p>This is mainly used when a new simulation was started and the viewer 
  is supposed to be restarted.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="close"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">close</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="viewer.sim_viewer-pysrc.html#SimViewer.close">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is called by pyglet when the viewer is closed.</p>
  <p>The screenshot folder is deleted, if no screenshots were taken.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://bhenne.github.com/MoSP/">Mobile Security &amp; Privacy (MoSP) Simulator</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sun Jul  6 13:59:53 2014
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
